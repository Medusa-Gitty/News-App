<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homepage</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Urbanist:wght@300&display=swap");
      body {
        font-family: "Urbanist", sans-serif;
      }
      h3 {
        cursor: pointer;
      }
      #news_box {
        display: grid;
        grid-template-columns: auto auto auto auto;
      }
      #news_box > div {
        margin: 10px;
      }
      img {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <h1>The Daily Herald</h1>
    <hr />
    <h3 onclick="goto()">Search News</h3>
    <hr />
    <h2>Trending News</h2>
    <div id="news_box"></div>
  </body>
</html>
<script>
  //Displaying top News
  // 8d7efe63885640cc97feb0e6f3731bc0

  var news_box = document.getElementById(`news_box`);

  fetch(
    `https://newsapi.org/v2/top-headlines?country=us&apiKey=8d7efe63885640cc97feb0e6f3731bc0`
  ).then(function (res) {
    res.json().then(function (res) {
      res = res.articles;
      showNews(res);
      console.log(res);
    });
  });

  var newsData;

  function showNews(news) {
    news_box.innerHTML = null;
    news.forEach((el) => {
      let div = document.createElement(`div`);
      div.style.cursor = `pointer`;

      let img = document.createElement(`img`);
      img.src = el.urlToImage;

      let title = document.createElement(`p`);
      title.textContent = el.title;

      let hr = document.createElement(`hr`);

      div.append(img, title, hr);
      news_box.append(div);

      div.addEventListener(`click`, function () {
        newsData = el;
        window.localStorage.setItem(`newsData`, JSON.stringify(newsData));
        window.location.href = `news.html`;
        // console.log(newsData);
      });
    });
  }
  ///////////////////////////////
  function goto() {
    window.location.href = `search.html`;
  }
</script>
